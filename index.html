<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon">
    <title>grit:hub</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="/static/toastMsg.css" />
    <link rel="stylesheet" href="/static/header.css" />
    <link rel="stylesheet" href="/static/home.css" />
    <link rel="stylesheet" href="/static/postCard.css" />
    <script src="/static/script/toastMsg.js" defer></script>
    <script src="/static/script/header.js" defer></script>
    <script src="/static/script/feedback.js" defer></script>
  </head>
  <body>
    
    <!-- header navigation bar -->
    <header>
      <nav class="navbar">
        <div class="nav-content">
          <div class="logo">
            <img src="/static/images/favicon-32x32.png" alt="Logo"/>
            <a class="logo-text" href="/">grit:hub</a>
          </div>
        </div>
      </nav>
    </header>

    <div class="container">
      <!-- Categories Sidebar -->
      <div class="categories">
        <h3>Categories</h3>
        <ul>
          <!--***** Need to change how categories item are populated *****-->
          <li><a href="/" class="category-item {{if not .FilterBy}}active{{end}}">All</a></li>
          {{if .SessionCookie}}
          <li><a href="?filterBy=createdBy" class="category-item {{if eq .FilterBy "createdBy"}}active{{end}}">My posts</a></li>
          <li><a href="?filterBy=likedBy" class="category-item {{if eq .FilterBy "likedBy"}}active{{end}}">Liked posts</a></li>
          {{end}}
          {{range $index, $cat := .Categories}}
          <li><a href="?filterBy=category&id={{$index}}" class="category-item {{if and (eq $.FilterBy "category") (eq $index $.Id)}}active{{end}}">{{$cat}}</a></li>
          {{end}}
        </ul>
      </div>

      <!-- Posts Feed -->
      <div class="feed">
        <section id="general">
          <h2>Hello, {{.UserName}}.</h2>
          
          <!-- Post Block -->
          {{range .Posts}}
            {{template "post-card" .}}
          {{else}}
          <div class="post-card">
            <h3>
              No post found
            </h3>
          </div>
          {{end}}
        </section>
      </div>
    </div>
    {{template "newPostModal" .}}
  </body>
</html>